# 텍스트를 EPUB으로 변환 #

  1. epubia.exe 또는 epubia.py 를 실행한다.
  1. '열기'로 텍스트 파일을 선택하거나 파일관리자에서 텍스트 파일을 잡아서 던져넣는다.
  1. 파일이름에서 제목, 저자명을 추출할 수 있거나 책정보가 파일처음에 적혀 있다면 화면에 표시된다.
  1. '책정보읽기'로 인터넷에서 책정보와 책표지를 가져온다.
  1. 잘못된 책정보를 가져온다면 ISBN을 직접 적어주고 '책정보읽기'를 다시 실행한다.
  1. 책정보와 표지그림 주소를 윈도우에서 편집할 수도 있다. 만약 가지고 있는 그림으로 표지를 바꾸고 싶다면 그림파일을 던져넣는다(아직 텍스트당 그림변경은 지원안함).
  1. '변환'을 누르면 EPUB 파일이 텍스트 파일이 있는 폴더에 만들어진다.
  1. EPUB 출력폴더를 바꾸고 싶다면 '출력위치'를 활성화 한 후 옆의 '선택'을 눌러 디렉토리를 선택한다.

# 설정창 #

## 출력장치 ##

| `Default`     | 들여쓰기 |
|:--------------|:-------------|
| `Embed`       | 지정한 글꼴을 EPUB 만들때 추가 |
| `None`        | 추가설정 없음 |
| `NookAndroid` | NOOK의 자체 폰트 사용 |
| `NookExt`     | NOOK의 저장소에 넣은 폰트 사용 |

출력장치 설정들은 **target** 디렉토리에 존재하며 수정하거나 사용자가 추가할 수도 있다. 또한 **fonts** 디렉토리에 원하는 글꼴파일(ttf 또는 otf)을 넣을 수 있다.

## 책정보 사이트 ##

다음 사이트들에서 책정보를 가져올 수 있다.

  * 알라딘
  * book.naver.com (OpenAPI 이용)
  * book.daum.net (OpenAPI 이용)

## 출력형식 ##

다음 출력형식을 지원한다.

  * EPUB (아직 EPUB3 지원은 안함)
  * PDF
  * Markdown Text (재정렬된 텍스트; .md.txt 확장자로 출력)

## 단어분리 교정 ##

입력 텍스트에서 한글단어가 줄간에 걸쳐있는 경우(주로 OCR 문서에서 발생) 최대한 한글단어를 복원한다.

### Pattern ###

주로 조사가 다음줄로 있는 경우 앞줄 마지막 단어에 붙인다.

### Naver Autospacing ###

[네이버랩 자동띄어쓰기](http://lab.naver.com/autospacing/) 사이트를 이용해서 단어를 교정한다. 많이 느리다.

# 고급설정 #

설정 정보는 **config.xml** 에 저장되며, 여기에는 설정창에 없는 설정들이 존재한다.
실행 전에 아래 항목들을 수동으로 수정 및 저장하면 epubia의 동작제어가 가능하다.

| `GraphicSeparator`     | `* * *` 대신 그림 사용 |
|:-----------------------|:-----------------------------|
| `GuessChapter`         | 정의된 챕터가 없을 때 입력에서 예측 |
| `GuessParaSep`         | 문단간 거리가 떨어지면 문단 사이를 벌림 |
| `MaxBrowseLevel`       | EPUB Navigation의 깊이. 기본값은 챕터, 섹션 표시 |
| `MaxImageWidth`        | 삽화그림의 최대폭    |
| `MaxImageHeight`       | 삽화그림의 최대길이 |
| `PreserveUserMeta`     | 책정보 읽어올 때 이미 있는 책정보는 덮어쓰지 않음 |
| `ReformatText`         | 입력 텍스트를 정렬   |
| `SkipToFirstChapter`   | 첫번째 챕터 이후부터 출력 |
| `SplitLargeText`       | 너무 긴 텍스트는 분할(EPUB규격) |
| `TryHiresImage`        | 교보문고에서 고해상도 표지 가져오기 |
| `UseTitleInOutputName` | 책제목으로 출력파일 생성 |

# 유용한 팁 #

  * 책관리 테이블의 '선택'을 누르면 전체선택 또는 선택해제를 할 수 있다.
  * **tgtxchg** 프로그램을 이용하면 epubia로 만들어진 EPUB 파일의 출력장치를 쉽게 변경할 수 있다. 글꼴을 변경하거나 CSS를 바꾸는 경우 유용하다.